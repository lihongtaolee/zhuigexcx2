(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/base/list/list"],{1943:function(t,e,i){"use strict";i.r(e);var o=i("a3c4"),n=i.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},3777:function(t,e,i){"use strict";i.r(e);var o=i("7d71"),n=i("1943");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("8b18");var s=i("828b"),u=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=u.exports},"7d71":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}));var o={uniRate:function(){return i.e("uni_modules/uni-rate/components/uni-rate/uni-rate").then(i.bind(null,"ad03"))},uniIcons:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(i.bind(null,"ef62"))},uniLoadMore:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(i.bind(null,"489a"))}},n=function(){var t=this,e=t.$createElement,i=(t._self._c,t.topics&&t.topics.length>0),o=i?t.__map(t.topics,(function(e,i){var o=t.__get_orig(e),n="zhuige_bbs_topic"!=e.post_type&&"zhuige_activity"!=e.post_type&&"post"==e.post_type?e.thumbnails.length:null,a="zhuige_bbs_topic"!=e.post_type&&"zhuige_activity"!=e.post_type&&"post"==e.post_type&&0!=n?e.thumbnails.length:null,s="zhuige_bbs_topic"==e.post_type||"zhuige_activity"==e.post_type||"post"!=e.post_type||0==n||a<3?null:e.thumbnails.length;return{$orig:o,g1:n,g2:a,g3:s}})):null,n=t.topics&&t.topics.length>0;t.$mp.data=Object.assign({},{$root:{g0:i,l0:o,g4:n}})},a=[]},"8b18":function(t,e,i){"use strict";var o=i("fdda"),n=i.n(o);n.a},a037:function(t,e,i){"use strict";(function(t,e){var o=i("47a9");i("c4fa");o(i("3240"));var n=o(i("3777"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(n.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},a3c4:function(t,e,i){"use strict";(function(t){var o=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("7aea")),a=(o(i("21c8")),o(i("f005"))),s=o(i("b2e8")),u={components:{ZhuigeTopic:function(){i.e("components/zhuige-topic").then(function(){return resolve(i("1393"))}.bind(null,i)).catch(i.oe)},ZhuigeNodata:function(){i.e("components/zhuige-nodata").then(function(){return resolve(i("bb50"))}.bind(null,i)).catch(i.oe)}},data:function(){return this.title="列表",this.tag_id=void 0,this.keyword=void 0,{topics:[],loadMore:"more",loaded:!1}},onLoad:function(e){n.default.addShareScore(e.source),e.title&&(this.title=decodeURIComponent(e.title),t.setNavigationBarTitle({title:this.title})),e.tag_id?this.tag_id=e.tag_id:e.keyword&&(this.keyword=e.keyword),this.loadTopics(!0),t.$on("zhuige_event_user_like",this.onUserLike)},onUnload:function(){t.$off("zhuige_event_user_like",this.onUserLike)},onReachBottom:function(){"more"==this.loadMore&&this.loadTopics(!1)},onPullDownRefresh:function(){this.loadTopics(!0)},onShareAppMessage:function(){var t="pages/base/list/list?title="+this.title;return this.tag_id&&(t+="&tag_id="+this.tag_id),this.keyword&&(t+="&keyword="+this.keyword),{title:this.title+"-"+getApp().globalData.appName,path:n.default.addShareSource(t)}},onShareTimeline:function(){return{title:this.title+"-"+getApp().globalData.appName}},methods:{onUserLike:function(t){this.topics&&this.topics.length>0&&this.topics.forEach((function(e){e.id==t.post_id&&(e.like_count=t.like_count)}))},openLink:function(t){n.default.openLink(t)},clickPost:function(t){"1"==t.driect_link_switch?n.default.openLink(t.driect_link):n.default.openLink(t.link+"?id="+t.id)},loadTopics:function(e){var i=this;if("loading"!=this.loadMore){this.loadMore="loading";var o="",n={offset:e?0:this.topics.length};this.tag_id?(o=a.default.URL("posts","list_tag"),n.tag_id=this.tag_id):this.keyword&&(o=a.default.URL("posts","list_search2"),n.keyword=this.keyword),s.default.post(o,n).then((function(o){i.topics=e?o.data.topics:i.topics.concat(o.data.topics),i.loadMore=o.data.more,i.loaded=!0,t.stopPullDownRefresh()}),(function(t){console.log(t)}))}}}};e.default=u}).call(this,i("df3c")["default"])},fdda:function(t,e,i){}},[["a037","common/runtime","common/vendor"]]]);