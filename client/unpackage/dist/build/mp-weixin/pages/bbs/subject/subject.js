(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/bbs/subject/subject"],{3182:function(t,e,n){"use strict";(function(t){var s=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=s(n("7aea")),a=s(n("21c8")),u=s(n("f005")),i=s(n("b2e8")),o={components:{},data:function(){return{new_subject:"",subjects:[],hots:[],recs:[],alls:[]}},onLoad:function(t){if(c.default.addShareScore(t.source),t.subjects){var e=decodeURIComponent(t.subjects);this.subjects=e.split("-0-")}this.loadSetting()},onShow:function(){},onShareAppMessage:function(){return{title:"话题汇总-"+getApp().globalData.appName,path:c.default.addShareSource("pages/bbs/subjects/subjects?n=n")}},onShareTimeline:function(){return{title:"话题汇总-"+getApp().globalData.appName}},methods:{addNewSubject:function(){var t=this;if(this.new_subject){var e=!1;this.subjects.forEach((function(n){n==t.new_subject&&(e=!0)})),e?a.default.toast(this.new_subject+"已添加过了"):(this.subjects.push(this.new_subject),this.hots.forEach((function(e){e.name==t.new_subject&&(e.class="active")})),this.recs.forEach((function(e){e.name==t.new_subject&&(e.class="active")})),this.alls.forEach((function(e){e.name==t.new_subject&&(e.class="active")}))),this.new_subject=""}else a.default.toast("不能添加空话题")},inputConfirm:function(){this.addNewSubject()},clickAddNew:function(){this.addNewSubject()},clickDelete:function(t){var e=[];this.subjects.forEach((function(n){n!=t&&e.push(n)})),this.subjects=e,this.hots.forEach((function(e){e.name==t&&(e.class="")})),this.recs.forEach((function(e){e.name==t&&(e.class="")})),this.alls.forEach((function(e){e.name==t&&(e.class="")}))},clickSubject:function(t){var e=!1,n=[];this.subjects.forEach((function(s){s==t.name?e=!0:n.push(s)})),e?(t.class="",this.subjects=n):(t.class="active",this.subjects.push(t.name))},clickOK:function(e){0!=this.subjects.length?this.subjects.length>3?a.default.toast("最多选择3个话题"):(t.$emit("subjectChange",this.subjects),c.default.navigateBack()):a.default.toast("请至少选择一个话题")},loadSetting:function(){var t=this;i.default.post(u.default.URL("bbs","setting_subject")).then((function(e){t.hots=e.data.hots,t.recs=e.data.recs,t.alls=e.data.alls,t.subjects.forEach((function(e){t.hots.forEach((function(t){t.name==e&&(t.class="active")})),t.recs.forEach((function(t){t.name==e&&(t.class="active")})),t.alls.forEach((function(t){t.name==e&&(t.class="active")}))}))}),(function(t){console.log(t)}))}}};e.default=o}).call(this,n("df3c")["default"])},"5ba3":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}));var s={uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"ef62"))}},c=function(){var t=this.$createElement,e=(this._self._c,this.subjects.length),n=this.recs.length,s=this.hots.length,c=s>0?this.hots.length:null,a=this.alls.length;this.$mp.data=Object.assign({},{$root:{g0:e,g1:n,g2:s,g3:c,g4:a}})},a=[]},"663e":function(t,e,n){"use strict";n.r(e);var s=n("3182"),c=n.n(s);for(var a in s)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(a);e["default"]=c.a},"7fc3":function(t,e,n){"use strict";n.r(e);var s=n("5ba3"),c=n("663e");for(var a in c)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return c[t]}))}(a);n("f1c9");var u=n("828b"),i=Object(u["a"])(c["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);e["default"]=i.exports},c336:function(t,e,n){"use strict";(function(t,e){var s=n("47a9");n("c4fa");s(n("3240"));var c=s(n("7fc3"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(c.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},e11f:function(t,e,n){},f1c9:function(t,e,n){"use strict";var s=n("e11f"),c=n.n(s);c.a}},[["c336","common/runtime","common/vendor"]]]);